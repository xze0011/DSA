# 501. Find Mode in Binary Search Tree

```java
private int maxCount = 0;
private int currCount = 0;
private Integer prev = null;
private List<Integer> result = new ArrayList<>();
public int[] findMode(TreeNode root) {
    dfs(root);
    int[] arr = new int[result.size()];
    for (int i = 0; i < result.size(); i++) {
        arr[i] = result.get(i);
    }
    return arr;
}

private void dfs(TreeNode root) {
    if (root == null)
        return;

    dfs(root.left);
    if (prev == null || prev == root.val) {
        currCount = currCount + 1;
    } else {
        // 值变了，重置开始计数
        currCount = 1;
    }
    if (currCount > maxCount) {
        maxCount = currCount;
        result.clear();
        result.add(root.val);
    } else if (currCount == maxCount) {
        result.add(root.val);
    }

    prev = root.val;

    dfs(root.right);
}
```
